{"version":3,"file":"static/js/704.2c7d2edb.chunk.js","mappings":"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","sources":["components/InfoPage.tsx","webpack://podex/./src/components/component.module.scss?c972"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\r\nimport style from './component.module.scss'\r\nimport { useOutletContext, useParams } from 'react-router-dom'\r\nimport { Pokemon } from '../layout/Layout';\r\n\r\n\r\ninterface AbilityType {\r\n  name: string\r\n  url: string\r\n}\r\n\r\ntype AbilitiesType = {\r\n  ability: AbilityType\r\n  is_hidden: boolean\r\n  slot: number\r\n}\r\n\r\n\r\nexport default function InfoPage() {\r\n  const [pokeInfo, setPokeInfo] = useState<any | undefined>();\r\n  const [pokeAbility, setPokeAbility] = useState<string[] | undefined>()\r\n\r\n  const { id } = useParams();\r\n  const props: Pokemon[] | undefined = useOutletContext();\r\n\r\n  const data = props?.find((prop) => prop?.id == Number(id));\r\n\r\n  //포켓몬 정보 url\r\n  let url = `https://pokeapi.co/api/v2/pokemon/${id}`\r\n\r\n\r\n  /** 함수들 */\r\n\r\n  //포켓몬 기본 데이터 들고오기\r\n  const basicInfo = useCallback(async (u: string) => {\r\n    const info = await fetch(u).then((res) => res.json());\r\n    const { height, weight } = info\r\n\r\n\r\n    setPokeInfo({\r\n      height: `${(height * 0.1).toFixed(1)}cm`,\r\n      weight: `${(weight * 0.1).toFixed(1)}kg`\r\n    })\r\n\r\n  }, [url]);\r\n\r\n\r\n  //포켓몬 url 데이터 들고오기\r\n  const getUrlData = useCallback(async (u: string) => {\r\n    const info = await fetch(u).then((res) => res.json());\r\n    const { abilities } = info\r\n\r\n    //특성 데이터 들고오기\r\n    const abilityUrl = await abilities.map(({ ability }: AbilitiesType) => fetch(ability.url));\r\n\r\n    const ability = await Promise.all(abilityUrl)\r\n      .then((response) => Promise.all(response.map((res) => res.json())))\r\n      .then((result) => result.map((r) =>\r\n        //const text = r.flavor_text_entries.filter((r:any)=>r.language.name === 'ko' )\r\n        // text :text[0].flavor_text\r\n        r.names[1].name,\r\n      ))\r\n\r\n    setPokeAbility(ability)\r\n  }, [url])\r\n\r\n\r\n  useEffect(() => {\r\n    basicInfo(url);\r\n    getUrlData(url);\r\n  }, [url])\r\n\r\n\r\n  return (\r\n    <div className={style.info}>\r\n      {\r\n        pokeInfo && data && pokeAbility &&\r\n        <div>\r\n          <h2>NO. {data.id}</h2>\r\n          <img src={`https://data1.pokemonkorea.co.kr/newdata/pokedex/mid/${Number(id) < 10 ? '000' : Number(id) < 100 ? '00' : '0'}${id}01.png`} width={150} alt=\"이미지\" />\r\n          <h2>{data.name}</h2>\r\n          <ul className={style.type}>\r\n            {data.type?.map((t, i) =>\r\n              <li className={`${t}`} key={i}>{t}</li>)}\r\n          </ul>\r\n          <ul>\r\n            <li>\r\n              <p>키</p>\r\n              <p>{pokeInfo.height}</p>\r\n            </li>\r\n            <li>\r\n              <p>몸무게</p>\r\n              <p>{pokeInfo.weight}</p>\r\n            </li>\r\n          </ul>\r\n          <ul className={style.ability}>\r\n            <p>특성</p>\r\n            <ul>\r\n              {\r\n                pokeAbility?.map((a, i) =>\r\n                  <li key={i}>\r\n                    <p>{a}</p>\r\n                  </li>\r\n                )\r\n              }\r\n            </ul>\r\n          </ul>\r\n        </div>\r\n      }\r\n    </div>\r\n\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"navbar\":\"component_navbar__+S0V7\",\"circle\":\"component_circle__MNmiq\",\"index\":\"component_index__l5HcX\",\"info\":\"component_info__YF6Jz\",\"search\":\"component_search__zL2XD\",\"cardbox\":\"component_cardbox__k8Q7m\",\"type\":\"component_type__PysKi\",\"ability\":\"component_ability__UZBhA\"};"],"names":["InfoPage","_data$type","pokeInfo","setPokeInfo","useState","pokeAbility","setPokeAbility","id","useParams","props","useOutletContext","data","find","prop","Number","url","concat","basicInfo","useCallback","async","info","fetch","u","then","res","json","height","weight","toFixed","getUrlData","abilities","abilityUrl","map","_ref","ability","Promise","all","response","result","r","names","name","useEffect","_jsx","className","style","children","_jsxs","src","width","alt","type","t","i","a"],"sourceRoot":""}